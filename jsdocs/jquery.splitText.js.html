<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/jquery.splitText.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: utils/jquery.splitText.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @module $.jui.juiSplitText
 * @requires jquery
 * @requires jquery.ui (jquery ui core)
 * @requires jquery.widget
 * @requires jquery.jui.juiBase
 * @description Jquery Plugin for toggling text between split text to spans -to- original text/html.
 * @triggers split-text:toggle
 * @triggers split-text:complete
 * @author ElyDeLaCruz
 */

    $.widget('jui.splitText', {

        /**
         * Options hash.
         * @type {object}
         */
        options:{

            /**
             * Used internally as a hash of possible states.
             * @type {object}
             */
            states: {
                unsplit: 'unsplit',
                split: 'split'
            },

            /**
             * Used internally to keep track of text state.
             * @type {string}
             */
            state: null,

            /**
             * The event's prefix name used when triggering event [complete,toggle]
             * @type {string}
             */
            eventsPrefix: 'split-text'
        },

        /**
         * Splits a string to a string of span elements.
         * @param str {string}
         * @returns {string}
         * @private
         */
        _splitStrToSpans: function (str) {
            var i = 0,
                output = '',
                val;

            while (i &lt; str.length) {
                val = /\s/.test(str[i]) ? '&nbsp;' : str[i];
                output += '&lt;span>' + val + '&lt;/span>';
                i += 1;
            }
            return output;
        },

        /**
         * Creates/Instantiates our plugin.
         * @return {void}
         * @private
         */
        _create:function () {
            var plugin = this,
                ops = plugin.options;

            // Set default state
            ops.state =
                ops.state || ops.states.unsplit;

            // Set original html/text
            ops.originalText = plugin.element.text()
                .replace(/\s{3,}/gim, '  ');

            // Split
            plugin.toggleSplitText();

            plugin.element.trigger(ops.eventsPrefix + ':complete');
        },

        /**
         * Toggles the elements split text state (between original text
         * and split text to spans text).
         * @param state {string} optional default null
         * @return void
         */
        toggleSplitText: function (state) {
            var plugin = this,
                ops = plugin.options;

                // Get state
                state = state || ops.state;

            // Toggle state
            if (state === ops.states.unsplit) {
                ops.state = ops.states.split;
                plugin.element.html(plugin._splitStrToSpans(ops.originalText));
            }
            else {
                ops.state = ops.states.unsplit;
                plugin.element.text(ops.originalText);
            }

            // Trigger toggle event
            this.element.trigger(ops.eventsPrefix + ':toggle',
                {states: ops.states, state: ops.state});
        },

        /**
         * Returns the original text of the element.
         * @returns {string}
         */
        getOriginalText: function () {
            return this.options.originalText;
        }

    });
    // End of plugin

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="juiScrollableDropdown.html">juiScrollableDropdown</a></li><li><a href="juiScrollPane.html">juiScrollPane</a></li><li><a href="juiSplitText.html">juiSplitText</a></li><li><a href="juiBase.html">juiBase</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_create">_create</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Fri Nov 29 2013 16:29:10 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
