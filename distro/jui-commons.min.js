/*! jui-commons 2013-10-07 */
$.widget("jui.juiBase",{options:{ui:{}},_namespace:function(a,b){var c,d=a.split("."),e=b||this.options;for(c=0;c<d.length;c+=1)"undefined"==typeof e[d[c]]&&(e[d[c]]={}),e=e[d[c]];return e},_populateUiElementsFromOptions:function(a){var b=this;a=a||this.options.ui,isset(b.ui)||(b.ui={}),Object.keys(a).forEach(function(c){"string"==typeof a[c]&&(b.ui[c]=a[c]=$(a[c],b.element)),$.isPlainObject(a[c])&&(b.ui[c]=b._getElementFromOptions(a[c]))})},_getElementFromOptions:function(a){var b=this,c=(b.options,a);return"string"==typeof c&&(c=b._namespace(c)),"function"==typeof c&&(c=c()),empty(c)?null:c instanceof $?c:isset(c.elm)&&c.elm instanceof $&&c.elm.length>0?c.elm:(isset(c.selector)&&empty(c.create)&&"string"==typeof c.selector&&(c.elm=$(c.selector,b.element)),empty(c.elm)&&isset(c.html)&&"string"==typeof c.html&&(c.elm=this._createElementFromOptions(c),isset(c.appendTo)&&"string"==typeof c.appendTo&&(c.elm="this.element"===c.appendTo?this.element.append(c.elm).find(c.selector):this._getElementFromOptions("ui."+c.appendTo).append(c.elm).find(c.selector))),empty(c.elm)?null:c.elm)},_createElementFromOptions:function(a){var b=null;return isset(a)&&"string"==typeof a&&(a=this._namespace(a)),empty(a)?null:(a.html&&(b=$(a.html),a.attribs&&b.attr(a.attribs)),b)},_removeCreatedElements:function(){var a=this,b=a.options;b.ui.keys.forEach(function(){b.ui[key].elm instanceof $&&b.ui[key].create&&b.ui[key].elm.remove()})},getFromOptions:function(a,b,c){var d=null;return"string"==typeof a&&(d=this._namespace(a)),"function"==typeof d&&empty(c)&&(d=d.apply(this,b)),d},getUiElement:function(a){return isset(this.ui[a])&&this.ui[a]instanceof $?this.ui[a]:this._getElementFromOptions("ui."+a)}});